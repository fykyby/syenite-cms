{% extends 'base.twig' %}

{% block title %}
    Settings
{% endblock %}

{% block actions %}
    <button
        class="uk-btn uk-btn-primary"
        form="edit-settings-form"
        type="submit"
    >
        Save
    </button>
{% endblock %}

{% block body %}
    <fieldset
        class="gap-medium p-medium uk-rounded relative flex flex-col border shadow"
    >
        <legend
            class="uk-btn-default uk-btn-xs uk-btn bg-card text-card-foreground border-border mr-auto place-self-start"
        >
            SMTP Email Account
        </legend>

        <form
            id="edit-settings-form"
            class="uk-form-stacked"
            method="post"
            action="{{ path('app_settings') }}"
        >
            <div
                class="{{
                errors.email_account.username ?? ''
                    ? 'form-destructive'
                    : ''
                }}"
            >
                <label class="uk-form-label" for="email_account[username]">
                    Username
                </label>
                <div class="uk-form-controls">
                    <input
                        class="uk-input"
                        type="text"
                        id="email_account[username]"
                        name="email_account[username]"
                        value="{{ values.email_account.username ?? '' }}"
                    />
                </div>
                <div class="uk-form-help">
                    {{ errors.email_account.username ?? '' }}
                </div>
            </div>

            <div
                class="{{
                errors.email_account.password ?? ''
                    ? 'form-destructive'
                    : ''
                }}"
            >
                <label class="uk-form-label" for="email_account[password]">
                    Password
                </label>
                <div class="uk-form-controls">
                    <input
                        class="uk-input"
                        type="password"
                        id="email_account[password]"
                        name="email_account[password]"
                        value="{{ values.email_account.password ?? '' }}"
                    />
                </div>
                <div class="uk-form-help">
                    {{ errors.email_account.password ?? '' }}
                </div>
            </div>

            <div
                class="{{
                errors.email_account.host ?? ''
                    ? 'form-destructive'
                    : ''
                }}"
            >
                <label class="uk-form-label" for="email_account[host]">
                    Host
                </label>
                <div class="uk-form-controls">
                    <input
                        class="uk-input"
                        type="text"
                        id="email_account[host]"
                        name="email_account[host]"
                        value="{{ values.email_account.host ?? '' }}"
                    />
                </div>
                <div class="uk-form-help">
                    {{ errors.email_account.host ?? '' }}
                </div>
            </div>

            <div
                class="{{
                errors.email_account.port ?? ''
                    ? 'form-destructive'
                    : ''
                }}"
            >
                <label class="uk-form-label" for="email_account[port]">
                    Port
                </label>
                <div class="uk-form-controls">
                    <input
                        class="uk-input"
                        type="number"
                        id="email_account[port]"
                        name="email_account[port]"
                        value="{{ values.email_account.port ?? '' }}"
                    />
                </div>
                <div class="uk-form-help">
                    {{ errors.email_account.port ?? '' }}
                </div>
            </div>
        </form>
    </fieldset>
{% endblock %}
